@model KoalaBlog.Web.Models.LoginViewModel
@{
    ViewBag.Title = "Face - 世界与你更贴近";
    Layout = "~/Views/Shared/_AccountLayout.cshtml";
}

@section links
{
    <link href="~/Content/Stylesheets/toolkit.css" rel="stylesheet" />
    <link href="~/Content/Stylesheets/application.css" rel="stylesheet" />

}

@section scripts
{  
    <script src="~/Content/Scripts/jquery.min.js"></script>
    <script src="~/Content/Scripts/chart.js"></script>
    <script src="~/Content/Scripts/toolkit.js"></script>
    <script src="~/Content/Scripts/application.js"></script>
}

<script>
    app.controller('LoginController', ['$scope', function ($scope) {

        $scope.submitButtonVal = "登錄";
        $scope.isLoading = false;

        $scope.loginClick = function () {
            $scope.isLoading = true;
            $scope.submitButtonVal = "登錄中...";

            $("#loginForm").submit();
        }
    }]);
</script>

<div class="gb ut" ng-controller="LoginController">
    <div class="uv">
        @using (Html.BeginForm("Login", "Account", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @role = "form", @class = "alq dj j", @id = "loginForm" }))
        {
            @Html.AntiForgeryToken()
        
            <a href="/home" class="l amb">
                <img src="~/Content/Images/brand-default.png" alt="brand" />
            </a>
            <div class="et">
                @Html.TextBoxFor(x => x.UserName, new { placeholder = "用戶名", @class = "my-form-control" })
            </div>
           <div class="et alu">
               @Html.PasswordFor(x => x.Password, new { placeholder = "密碼", @class = "my-form-control" })
           </div>
            <div class="amb">
                <input class="cg fp" type="submit" value="{{submitButtonVal}}" ng-disabled="isLoading" ng-click="loginClick()" />
                <a class="cg fm" href="../register">註冊</a>
            </div>
            <footer class="apc">
                <a href="/forgotpassword" class="dp">忘記密碼</a>
            </footer>
        }
    </div>
</div>